<!doctype html><html lang=en><head><title>[DB] Sqlite Basics - Kaka's Blog</title><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no,minimal-ui"><meta name=renderer content="webkit"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><meta name=format-detection content="telephone=no,email=no,adress=no"><meta name=theme-color content="#000000"><meta http-equiv=window-target content="_top"><meta name=description content="SQLite - Basics SQL - Tutorial SQL As Understood By SQLite(官網) SQLite - Tutorial Load ipython-sql ipython-sql: 是jupyter notebook的extension，用來擴充jupyter對SQL的支"><meta name=generator content="Hugo 0.104.0 with theme pure"><title>[DB] Sqlite Basics - Kaka's Blog</title><link rel=stylesheet href=https://kaka-lin.github.io/my-blog/css/style.min.c42838cb837ce405361b2d6e3a1e99ddcc6be6d8be2766f2fe32a151d5664f19.css><link rel=stylesheet href=https://kaka-lin.github.io/my-blog/css/custom.css async><link rel=stylesheet href=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/atom-one-dark.min.css><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.css async><meta property="og:title" content="[DB] Sqlite Basics"><meta property="og:description" content="SQLite - Basics SQL - Tutorial SQL As Understood By SQLite(官網) SQLite - Tutorial Load ipython-sql ipython-sql: 是jupyter notebook的extension，用來擴充jupyter對SQL的支"><meta property="og:type" content="article"><meta property="og:url" content="https://kaka-lin.github.io/my-blog/2020/06/sqlite-basics/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2020-06-11T00:00:00+00:00"><meta property="article:modified_time" content="2020-06-11T00:00:00+00:00"><meta itemprop=name content="[DB] Sqlite Basics"><meta itemprop=description content="SQLite - Basics SQL - Tutorial SQL As Understood By SQLite(官網) SQLite - Tutorial Load ipython-sql ipython-sql: 是jupyter notebook的extension，用來擴充jupyter對SQL的支"><meta itemprop=datePublished content="2020-06-11T00:00:00+00:00"><meta itemprop=dateModified content="2020-06-11T00:00:00+00:00"><meta itemprop=wordCount content="1459"><meta itemprop=keywords content="SQLite,"><meta name=twitter:card content="summary"><meta name=twitter:title content="[DB] Sqlite Basics"><meta name=twitter:description content="SQLite - Basics SQL - Tutorial SQL As Understood By SQLite(官網) SQLite - Tutorial Load ipython-sql ipython-sql: 是jupyter notebook的extension，用來擴充jupyter對SQL的支"><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body class="main-center theme-black" itemscope itemtype=http://schema.org/WebPage><header class=header itemscope itemtype=http://schema.org/WPHeader><div class=slimContent><div class=navbar-header><div class="profile-block text-center"><a id=avatar href=https://github.com/kaka-lin target=_blank><img class="img-circle img-rotate" src=https://kaka-lin.github.io/my-blog/images/kaka_virtual.jpg width=200 height=200></a><h2 id=name class="hidden-xs hidden-sm">Kaka Lin</h2><h3 id=title class="hidden-xs hidden-sm hidden-md">Software Engineer</h3><small id=location class="text-muted hidden-xs hidden-sm"><i class="icon icon-map-marker"></i>Taipei, Taiwan</small></div><div class=search id=search-form-wrap><form class="search-form sidebar-form"><div class=input-group><input type=text class="search-form-input form-control" placeholder=Search>
<span class=input-group-btn><button type=submit class="search-form-submit btn btn-flat" onclick=return!1><i class="icon icon-search"></i></button></span></div><div class=ins-search><div class=ins-search-mask></div><div class=ins-search-container><div class=ins-input-wrapper><input type=text class=ins-search-input placeholder="Type something..." x-webkit-speech>
<button type=button class="close ins-close ins-selectable" data-dismiss=modal aria-label=Close><span aria-hidden=true>×</span></button></div><div class=ins-section-wrapper><div class=ins-section-container></div></div></div></div></form></div><button class="navbar-toggle collapsed" type=button data-toggle=collapse data-target=#main-navbar aria-controls=main-navbar aria-expanded=false>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span></button></div><nav id=main-navbar class="collapse navbar-collapse" itemscope itemtype=http://schema.org/SiteNavigationElement role=navigation><ul class="nav navbar-nav main-nav"><li class="menu-item menu-item-home"><a href=/my-blog/><i class="icon icon-home-fill"></i>
<span class=menu-title>Home</span></a></li><li class="menu-item menu-item-categories"><a href=/my-blog/categories/><i class="icon icon-folder"></i>
<span class=menu-title>Categories</span></a></li><li class="menu-item menu-item-books"><a href=/my-blog/series/><i class="icon icon-book-fill"></i>
<span class=menu-title>Study Notes</span></a></li><li class="menu-item menu-item-tags"><a href=/my-blog/tags/><i class="icon icon-tags"></i>
<span class=menu-title>Tags</span></a></li><li class="menu-item menu-item-about"><a href=/my-blog/about/><i class="icon icon-cup-fill"></i>
<span class=menu-title>About</span></a></li></ul></nav></div></header><aside class=sidebar itemscope itemtype=http://schema.org/WPSideBar><div class=slimContent><div class=widget><h3 class=widget-title>Categories</h3><div class=widget-body><ul class=category-list><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/c++/ class=category-list-link>c++</a><span class=category-list-count>3</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/data-science/ class=category-list-link>data-science</a><span class=category-list-count>4</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/data-structure-and-algorithm/ class=category-list-link>data-structure-and-algorithm</a><span class=category-list-count>13</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/database/ class=category-list-link>database</a><span class=category-list-count>4</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/devops/ class=category-list-link>devops</a><span class=category-list-count>2</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/docker/ class=category-list-link>docker</a><span class=category-list-count>1</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/go/ class=category-list-link>go</a><span class=category-list-count>8</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/ml/dl/ class=category-list-link>ml/dl</a><span class=category-list-count>9</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/os/ class=category-list-link>os</a><span class=category-list-count>3</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/python/ class=category-list-link>python</a><span class=category-list-count>13</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/qt/ class=category-list-link>qt</a><span class=category-list-count>1</span></li><li class=category-list-item><a href=https://kaka-lin.github.io/my-blog/categories/react/ class=category-list-link>react</a><span class=category-list-count>2</span></li></ul></div></div><div class=widget><h3 class=widget-title>Series</h3><div class=widget-body><ul class=series-list><li class=series-list-item><a href=https://kaka-lin.github.io/my-blog/series/asynchronous-programming/ class=series-list-link>asynchronous-programming</a><span class=series-list-count>7</span></li><li class=series-list-item><a href=https://kaka-lin.github.io/my-blog/series/data-structure-and-algorithm/ class=series-list-link>data-structure-and-algorithm</a><span class=series-list-count>13</span></li><li class=series-list-item><a href=https://kaka-lin.github.io/my-blog/series/go/ class=series-list-link>go</a><span class=series-list-count>7</span></li><li class=series-list-item><a href=https://kaka-lin.github.io/my-blog/series/machine-learning/ class=series-list-link>machine-learning</a><span class=series-list-count>9</span></li><li class=series-list-item><a href=https://kaka-lin.github.io/my-blog/series/python/ class=series-list-link>python</a><span class=series-list-count>13</span></li><li class=series-list-item><a href=https://kaka-lin.github.io/my-blog/series/pytorch/ class=series-list-link>pytorch</a><span class=series-list-count>3</span></li><li class=series-list-item><a href=https://kaka-lin.github.io/my-blog/series/react/ class=series-list-link>react</a><span class=series-list-count>2</span></li><li class=series-list-item><a href=https://kaka-lin.github.io/my-blog/series/tensorflow/ class=series-list-link>tensorflow</a><span class=series-list-count>3</span></li><li class=series-list-item><a href=https://kaka-lin.github.io/my-blog/series/yolo-series/ class=series-list-link>yolo-series</a><span class=series-list-count>1</span></li></ul></div></div><div class=widget><h3 class=widget-title>Tags</h3><div class=widget-body><ul class=tag-list><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/array/ class=tag-list-link>array</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/automatic-differentiation/ class=tag-list-link>automatic-differentiation</a><span class=tag-list-count>3</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/ci/cd/ class=tag-list-link>ci/cd</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/classification/ class=tag-list-link>classification</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/concurrency/ class=tag-list-link>concurrency</a><span class=tag-list-count>2</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/coroutine/ class=tag-list-link>coroutine</a><span class=tag-list-count>2</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/docker/ class=tag-list-link>docker</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/dp/ class=tag-list-link>dp</a><span class=tag-list-count>2</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/generator/ class=tag-list-link>generator</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/google-trends/ class=tag-list-link>google-trends</a><span class=tag-list-count>2</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/hash-table/ class=tag-list-link>hash-table</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/heap/ class=tag-list-link>heap</a><span class=tag-list-count>2</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/i/o-models/ class=tag-list-link>i/o-models</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/jupyter/ class=tag-list-link>jupyter</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/letterbox/ class=tag-list-link>letterbox</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/linked-list/ class=tag-list-link>linked-list</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/matplotlib/ class=tag-list-link>matplotlib</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/metrics/ class=tag-list-link>metrics</a><span class=tag-list-count>2</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/mysql/ class=tag-list-link>mysql</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/object-detection/ class=tag-list-link>object-detection</a><span class=tag-list-count>2</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/oop/ class=tag-list-link>oop</a><span class=tag-list-count>2</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/orm/ class=tag-list-link>orm</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/parallelism/ class=tag-list-link>parallelism</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/progressbar/ class=tag-list-link>progressbar</a><span class=tag-list-count>2</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/sqlalchemy/ class=tag-list-link>sqlalchemy</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/sqlite/ class=tag-list-link>sqlite</a><span class=tag-list-count>1</span></li><li class=tag-list-item><a href=https://kaka-lin.github.io/my-blog/tags/tree/ class=tag-list-link>tree</a><span class=tag-list-count>8</span></li></ul></div></div><div class=widget><h3 class=widget-title>Recent Posts</h3><div class=widget-body><ul class="recent-post-list list-unstyled no-thumbnail"><li><div class=item-inner><p class=item-title><a href=https://kaka-lin.github.io/my-blog/2022/09/avl_tree/ class=title>[DSA] AVL Tree 介紹</a></p><p class=item-date><time datetime="2022-09-21 00:00:00 +0000 UTC" itemprop=datePublished>2022-09-21</time></p></div></li><li><div class=item-inner><p class=item-title><a href=https://kaka-lin.github.io/my-blog/2022/09/binary_search_tree/ class=title>[DSA] Binary Search Tree 介紹</a></p><p class=item-date><time datetime="2022-09-20 00:00:00 +0000 UTC" itemprop=datePublished>2022-09-20</time></p></div></li><li><div class=item-inner><p class=item-title><a href=https://kaka-lin.github.io/my-blog/2022/09/introduction/ class=title>[DSA] Hash Table 介紹</a></p><p class=item-date><time datetime="2022-09-16 00:00:00 +0000 UTC" itemprop=datePublished>2022-09-16</time></p></div></li><li><div class=item-inner><p class=item-title><a href=https://kaka-lin.github.io/my-blog/2022/09/binomial_heap/ class=title>[DSA] Binomial Heap 介紹</a></p><p class=item-date><time datetime="2022-09-12 00:00:00 +0000 UTC" itemprop=datePublished>2022-09-12</time></p></div></li><li><div class=item-inner><p class=item-title><a href=https://kaka-lin.github.io/my-blog/2022/09/heap_tree/ class=title>[DSA] Heap Tree (堆積) 介紹</a></p><p class=item-date><time datetime="2022-09-10 00:00:00 +0000 UTC" itemprop=datePublished>2022-09-10</time></p></div></li></ul></div></div></div></aside><aside class="sidebar sidebar-toc collapse" id=collapseToc itemscope itemtype=http://schema.org/WPSideBar><div class=slimContent><h4 class=toc-title>Catalogue</h4><nav id=toc class="js-toc toc"></nav></div></aside><main class=main role=main><div class=content><article id=- class="article article-type-" itemscope itemtype=http://schema.org/BlogPosting><div class=article-header><h1 itemprop=name><a class=article-title href=/my-blog/2020/06/sqlite-basics/>[DB] Sqlite Basics</a></h1><div class=article-meta><span class=article-date><i class="icon icon-calendar-check"></i>&nbsp;
<a href=https://kaka-lin.github.io/my-blog/2020/06/sqlite-basics/ class=article-date><time datetime="2020-06-11 00:00:00 +0000 UTC" itemprop=datePublished>2020-06-11</time></a></span>
<span class=article-category><i class="icon icon-folder"></i>&nbsp;
<a class=article-category-link href=/my-blog/categories/database/>Database</a></span>
<span class=article-tag><i class="icon icon-tags"></i>&nbsp;
<a class=article-tag-link href=/my-blog/tags/sqlite/>SQLite</a></span>
<span class=post-comment><i class="icon icon-comment"></i>&nbsp;<a href=/my-blog/2020/06/sqlite-basics/#comments class=article-comment-link>Comments</a></span></div></div><div class="article-entry marked-body js-toc-content" itemprop=articleBody><h1 id=sqlite---basics>SQLite - Basics</h1><ul><li><a href=https://www.w3schools.com/sql/default.asp>SQL - Tutorial</a></li><li><a href=https://www.sqlite.org/lang.html>SQL As Understood By SQLite(官網)</a></li><li><a href=https://www.tutorialspoint.com/sqlite/index.htm>SQLite - Tutorial</a></li></ul><h2 id=load-ipython-sql>Load ipython-sql</h2><p><code>ipython-sql</code>:</p><ul><li>是jupyter notebook的extension，用來擴充jupyter對SQL的支援</li><li>其底層是使用SQLAlchemy</li></ul><pre><code class=language-python>%load_ext sql
</code></pre><h2 id=create-database>Create Database</h2><p>The concept of creating or dropping a database is not meant for an embedded database engine like SQLite.</p><p>If you want to create DB in SQLite, just from the command line: <code>sqlite3 databasefilename</code>.</p><p>For example: <code>sqlite3 test.db</code></p><h3 id=create-db-in-jupyter>Create DB in Jupyter</h3><p>Because <code>ipython-sql</code> is based on <code>SQLAlchemy</code>, we can create and connect DB as follow:</p><pre><code class=language-python>%sql sqlite:///test.db
</code></pre><pre><code class=language-python>!ls -al
</code></pre><pre><code>total 32
drwxr-xr-x 3 kaka kaka  4096  5月 14 10:16 .
drwxr-xr-x 7 kaka kaka  4096  5月 14 09:49 ..
drwxr-xr-x 2 kaka kaka  4096  5月 14 09:52 .ipynb_checkpoints
-rw-r--r-- 1 kaka kaka   422  5月 14 09:25 README.md
-rw-r--r-- 1 kaka kaka 15267  5月 14 10:16 sqlite-basics.ipynb
-rw-r--r-- 1 kaka kaka     0  5月 14 10:16 test.db
</code></pre><h2 id=sqlite-version>SQLite Version</h2><pre><code class=language-python>%sql SELECT sqlite_version() AS 'SQLite Version';
</code></pre><pre><code>* sqlite:///test.db
Done.
</code></pre><pre><code>| SQLite Version |
| 3.31.1 |
</code></pre><h2 id=create-table>Create Table</h2><ul><li><a href=https://www.sqlite.org/lang.html>SQLite - Data Type</a></li><li><a href=https://www.tutorialspoint.com/sqlite/sqlite_using_autoincrement.htm>SQLite - AUTOINCREMENT</a></li></ul><pre><code class=language-python>%%sql

CREATE TABLE persons(
    person_id INTEGER PRIMARY KEY AUTOINCREMENT,
    firstname VARCHAR(255),
    lastname  VARCHAR(255),
    age       INTEGER,
    height    REAL,
    weight    REAL,
    city      VARCHAR(255)
);
</code></pre><pre><code> * sqlite:///test.db
Done.
[]
</code></pre><h2 id=crud-for-data>CRUD for Data</h2><ul><li>C: Create</li><li>R: Read</li><li>U: Update</li><li>D: Delete</li></ul><p><img src=https://raw.githubusercontent.com/kaka-lin/Notes/master/DB/images/crud.png alt></p><h3 id=create-data-sql-insert-into>Create Data: SQL INSERT INTO</h3><pre><code class=language-python>%%sql
INSERT INTO persons
VALUES (10, 'kaka','Lin', 28, 175, 70, 'Taipei');

INSERT INTO persons (firstname, lastname, age, height, weight, city)
VALUES ('kiwi','Li', 30, 173, 70, 'Taipei');
</code></pre><pre><code> * sqlite:///test.db
1 rows affected.
1 rows affected.
[]
</code></pre><h3 id=read-data-sql-select>Read Data: SQL SELECT</h3><pre><code class=language-python>%%sql

SELECT * FROM persons;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td></tr></tbody></table><h3 id=update-data-sql-update>Update Data: SQL UPDATE</h3><pre><code class=language-python>%%sql

UPDATE persons
SET    weight = 68
WHERE  firstname = 'kaka';
-- or WHERE person_id = 1;
</code></pre><pre><code> * sqlite:///test.db
1 rows affected.
0 rows affected.
[]
</code></pre><pre><code class=language-python>%%sql

SELECT * FROM persons;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td></tr></tbody></table><h3 id=delete-data-sql-delete>Delete Data: SQL DELETE</h3><p>Before we delete data,
we first add the data that we want to delete.</p><pre><code class=language-python>%%sql

INSERT INTO persons
VALUES (3, 'albert','Lin', 28, 180, 70, 'Taipei');
</code></pre><pre><code> * sqlite:///test.db
1 rows affected.
[]
</code></pre><pre><code class=language-python>%%sql

SELECT * FROM persons;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>3</td><td>albert</td><td>Lin</td><td>28</td><td>180.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td></tr></tbody></table><pre><code class=language-python>%%sql

DELETE FROM persons
WHERE person_id = 3;
</code></pre><pre><code> * sqlite:///test.db
1 rows affected.
[]
</code></pre><pre><code class=language-python>%%sql

SELECT * FROM persons;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td></tr></tbody></table><h2 id=sql-where>SQL WHERE</h2><pre><code class=language-python>%%sql

INSERT INTO persons (firstname, lastname, age, height, weight, city)
VALUES ('Albert', 'Lin', 28, 160, 70, 'Taipei'),
       ('Andy', 'Wei', 24, 175, 72, 'Teipei'),
       ('kevin', 'Wang', 30, 174, 63, 'San Francisco'),
       ('kevin', 'Wei', 27, 178, 65, 'Taipei'),
       ('David', 'Kang', 26, 175, 65, 'Washington'),
       ('Matt', 'Wang', 26, 172, 72, 'Taipei'),
       ('kaka-ideal', 'Lin', 28, 178, 70, 'Janpan');
</code></pre><pre><code> * sqlite:///test.db
7 rows affected.
[]
</code></pre><pre><code class=language-python>%%sql

SELECT * FROM persons
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>12</td><td>Albert</td><td>Lin</td><td>28</td><td>160.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>13</td><td>Andy</td><td>Wei</td><td>24</td><td>175.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>14</td><td>kevin</td><td>Wang</td><td>30</td><td>174.0</td><td>63.0</td><td>San Francisco</td></tr><tr><td>15</td><td>kevin</td><td>Wei</td><td>27</td><td>178.0</td><td>65.0</td><td>Taipei</td></tr><tr><td>16</td><td>David</td><td>Kang</td><td>26</td><td>175.0</td><td>65.0</td><td>Washington</td></tr><tr><td>17</td><td>Matt</td><td>Wang</td><td>26</td><td>172.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>18</td><td>kaka-ideal</td><td>Lin</td><td>28</td><td>178.0</td><td>70.0</td><td>Janpan</td></tr></tbody></table><pre><code class=language-python>%%sql

SELECT *
FROM   persons
WHERE  age = 28;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>12</td><td>Albert</td><td>Lin</td><td>28</td><td>160.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>18</td><td>kaka-ideal</td><td>Lin</td><td>28</td><td>173.0</td><td>70.0</td><td>Janpan</td></tr></tbody></table><h2 id=sql-and-or-and-not>SQL AND, OR and NOT</h2><h3 id=and>AND</h3><pre><code class=language-python>%%sql

SELECT *
FROM   persons
WHERE  age = 28
AND    height &gt; 170;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>18</td><td>kaka-ideal</td><td>Lin</td><td>28</td><td>178.0</td><td>70.0</td><td>Janpan</td></tr></tbody></table><h3 id=or>OR</h3><pre><code class=language-python>%%sql

SELECT *
FROM   persons
WHERE  age = 28
OR     height &gt; 170;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>12</td><td>Albert</td><td>Lin</td><td>28</td><td>160.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>13</td><td>Andy</td><td>Wei</td><td>24</td><td>175.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>14</td><td>kevin</td><td>Wang</td><td>30</td><td>174.0</td><td>63.0</td><td>San Francisco</td></tr><tr><td>15</td><td>kevin</td><td>Wei</td><td>27</td><td>178.0</td><td>65.0</td><td>Taipei</td></tr><tr><td>16</td><td>David</td><td>Kang</td><td>26</td><td>175.0</td><td>65.0</td><td>Washington</td></tr><tr><td>17</td><td>Matt</td><td>Wang</td><td>26</td><td>172.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>18</td><td>kaka-ideal</td><td>Lin</td><td>28</td><td>178.0</td><td>70.0</td><td>Janpan</td></tr></tbody></table><h4 id=sql-in-operator>SQL IN Operator</h4><p>The IN operator allows you to specify multiple values in a WHERE clause.</p><pre><code class=language-python>%%sql

SELECT *
FROM   persons
WHERE  age = 28 OR age = 26;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>12</td><td>Albert</td><td>Lin</td><td>28</td><td>160.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>16</td><td>David</td><td>Kang</td><td>26</td><td>175.0</td><td>65.0</td><td>Washington</td></tr><tr><td>17</td><td>Matt</td><td>Wang</td><td>26</td><td>172.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>18</td><td>kaka-ideal</td><td>Lin</td><td>28</td><td>178.0</td><td>70.0</td><td>Janpan</td></tr></tbody></table><pre><code class=language-python>%%sql

SELECT *
FROM   persons
WHERE age IN (26, 28);
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>12</td><td>Albert</td><td>Lin</td><td>28</td><td>160.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>16</td><td>David</td><td>Kang</td><td>26</td><td>175.0</td><td>65.0</td><td>Washington</td></tr><tr><td>17</td><td>Matt</td><td>Wang</td><td>26</td><td>172.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>18</td><td>kaka-ideal</td><td>Lin</td><td>28</td><td>178.0</td><td>70.0</td><td>Janpan</td></tr></tbody></table><h3 id=not>NOT</h3><pre><code class=language-python>%%sql

SELECT *
FROM   persons
/* WHERE NOT age = 28; */
WHERE age != 28;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>13</td><td>Andy</td><td>Wei</td><td>24</td><td>175.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>14</td><td>kevin</td><td>Wang</td><td>30</td><td>174.0</td><td>63.0</td><td>San Francisco</td></tr><tr><td>15</td><td>kevin</td><td>Wei</td><td>27</td><td>178.0</td><td>65.0</td><td>Taipei</td></tr><tr><td>16</td><td>David</td><td>Kang</td><td>26</td><td>175.0</td><td>65.0</td><td>Washington</td></tr><tr><td>17</td><td>Matt</td><td>Wang</td><td>26</td><td>172.0</td><td>72.0</td><td>Taipei</td></tr></tbody></table><h2 id=sql-order-by>SQL ORDER BY</h2><pre><code>SELECT column1, column2, ...
    FROM table_name
    ORDER BY column1, column2, ... ASC|DESC;
</code></pre><ul><li>Default: ASC</li></ul><pre><code class=language-python>%%sql

SELECT *
FROM   persons
ORDER BY age;
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>13</td><td>Andy</td><td>Wei</td><td>24</td><td>175.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>16</td><td>David</td><td>Kang</td><td>26</td><td>175.0</td><td>65.0</td><td>Washington</td></tr><tr><td>17</td><td>Matt</td><td>Wang</td><td>26</td><td>172.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>15</td><td>kevin</td><td>Wei</td><td>27</td><td>178.0</td><td>65.0</td><td>Taipei</td></tr><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>12</td><td>Albert</td><td>Lin</td><td>28</td><td>160.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>18</td><td>kaka-ideal</td><td>Lin</td><td>28</td><td>178.0</td><td>70.0</td><td>Janpan</td></tr><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>14</td><td>kevin</td><td>Wang</td><td>30</td><td>174.0</td><td>63.0</td><td>San Francisco</td></tr></tbody></table><h2 id=sql-like-operator>SQL LIKE Operator</h2><p>The LIKE operator is used in a WHERE clause to search for a specified pattern in a column.</p><p>There are two wildcards often used in conjunction with the LIKE operator:</p><ul><li>% : The percent sign represents zero, one, or multiple characters</li><li>_ : The underscore represents a single character</li></ul><pre><code class=language-python>%%sql

SELECT *
FROM   persons
WHERE city LIKE '%pei%';
</code></pre><pre><code> * sqlite:///test.db
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td></tr><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>12</td><td>Albert</td><td>Lin</td><td>28</td><td>160.0</td><td>70.0</td><td>Taipei</td></tr><tr><td>13</td><td>Andy</td><td>Wei</td><td>24</td><td>175.0</td><td>72.0</td><td>Taipei</td></tr><tr><td>15</td><td>kevin</td><td>Wei</td><td>27</td><td>178.0</td><td>65.0</td><td>Taipei</td></tr><tr><td>17</td><td>Matt</td><td>Wang</td><td>26</td><td>172.0</td><td>72.0</td><td>Taipei</td></tr></tbody></table><h2 id=sqlite----functions>SQLite - Functions</h2><ul><li><a href=https://www.w3resource.com/sqlite/core-functions-round.php>SQLite Core Function</a></li></ul><h3 id=modify-table-sql-alter-table>Modify Table: SQL ALTER TABLE</h3><ul><li><p>Add a new column in an existing table</p><pre><code>ALTER TABLE table_name ADD column_name datatype;
</code></pre></li></ul><pre><code class=language-python>%%sql

ALTER TABLE persons
ADD height_meters REAL;

UPDATE persons
SET height_meters = round(height / 100, 2);

SELECT * FROM persons;
</code></pre><pre><code> * sqlite:///test.db
Done.
9 rows affected.
Done.
</code></pre><table><thead><tr><th>person_id</th><th>firstname</th><th>lastname</th><th>age</th><th>height</th><th>weight</th><th>city</th><th>height_meters</th></tr></thead><tbody><tr><td>10</td><td>kaka</td><td>Lin</td><td>28</td><td>175.0</td><td>68.0</td><td>Taipei</td><td>1.75</td></tr><tr><td>11</td><td>kiwi</td><td>Li</td><td>30</td><td>173.0</td><td>70.0</td><td>Taipei</td><td>1.73</td></tr><tr><td>12</td><td>Albert</td><td>Lin</td><td>28</td><td>160.0</td><td>70.0</td><td>Taipei</td><td>1.6</td></tr><tr><td>13</td><td>Andy</td><td>Wei</td><td>24</td><td>175.0</td><td>72.0</td><td>Taipei</td><td>1.75</td></tr><tr><td>14</td><td>kevin</td><td>Wang</td><td>30</td><td>174.0</td><td>63.0</td><td>San Francisco</td><td>1.74</td></tr><tr><td>15</td><td>kevin</td><td>Wei</td><td>27</td><td>178.0</td><td>65.0</td><td>Taipei</td><td>1.78</td></tr><tr><td>16</td><td>David</td><td>Kang</td><td>26</td><td>175.0</td><td>65.0</td><td>Washington</td><td>1.75</td></tr><tr><td>17</td><td>Matt</td><td>Wang</td><td>26</td><td>172.0</td><td>72.0</td><td>Taipei</td><td>1.72</td></tr><tr><td>18</td><td>kaka-ideal</td><td>Lin</td><td>28</td><td>178.0</td><td>70.0</td><td>Janpan</td><td>1.78</td></tr></tbody></table><h2 id=drop-table>Drop Table</h2><pre><code class=language-python>%%sql

DROP TABLE persons;
</code></pre><pre><code> * sqlite:///test.db
Done.
[]
</code></pre><h2 id=drop-database>Drop Database</h2><p>If we want to drop DB in SQLite, just delete the file.</p><pre><code class=language-python>!rm -rf test.db
!ls -al
</code></pre><pre><code>total 32
drwxr-xr-x 3 kaka kaka  4096  5月 14 10:16 .
drwxr-xr-x 7 kaka kaka  4096  5月 14 09:49 ..
drwxr-xr-x 2 kaka kaka  4096  5月 14 09:52 .ipynb_checkpoints
-rw-r--r-- 1 kaka kaka   422  5月 14 09:25 README.md
-rw-r--r-- 1 kaka kaka 15267  5月 14 10:16 sqlite-basics.ipynb
</code></pre></div><div class=article-footer><blockquote class=mt-2x><ul class="post-copyright list-unstyled"><li class="post-copyright-link hidden-xs"><strong>Permalink:</strong>
<a href=https://kaka-lin.github.io/my-blog/2020/06/sqlite-basics/ title="[DB] Sqlite Basics" target=_blank rel=external>https://kaka-lin.github.io/my-blog/2020/06/sqlite-basics/</a></li><li class=post-copyright-license><strong>License：</strong><a href=https://creativecommons.org/licenses/by/4.0/deed.zh_TW target=_blank rel=external>CC BY 4.0</a></li></ul></blockquote><div class="panel panel-default panel-badger"><div class=panel-body><figure class=media><div class=media-left><a href=https://github.com/kaka-lin target=_blank class="img-burn thumb-sm visible-lg"><img src=https://kaka-lin.github.io/my-blog/images/kaka_virtual.jpg class="img-rounded w-full" alt></a></div><div class=media-body><h3 class=media-heading><a href=https://github.com/kaka-lin target=_blank><span class=text-dark>Kaka Lin</span><small class=ml-1x>Software Engineer</small></a></h3><div>AIoT</div></div></figure></div></div></div></article><section id=comments><div id=disqus_thread><noscript>Please enable JavaScript to view the <a href=//disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div></section></div><nav class="bar bar-footer clearfix" data-stick-bottom><div class=bar-inner><ul class="pager pull-left"><li class=prev><a href=https://kaka-lin.github.io/my-blog/2020/06/02_flow_control/ title="[Python] Ch1: Python Basics - 02 Flow Control"><i class="icon icon-angle-left" aria-hidden=true></i><span>&nbsp;&nbsp;Older</span></a></li><li class=next><a href=https://kaka-lin.github.io/my-blog/2020/06/mysql-basics/ title="[DB] Mysql Basics"><span>Newer&nbsp;&nbsp;</span><i class="icon icon-angle-right" aria-hidden=true></i></a></li><li class=toggle-toc><a class="toggle-btn collapsed" data-toggle=collapse href=#collapseToc aria-expanded=false title=Catalogue role=button><span>[&nbsp;</span><span>Catalogue</span>
<i class="text-collapsed icon icon-anchor"></i>
<i class="text-in icon icon-close"></i>
<span>]</span></a></li></ul><div class=bar-right></div></div></nav></main><footer class=footer itemscope itemtype=http://schema.org/WPFooter><ul class=social-links><li><a href="https://www.facebook.com/profile.php?id=100001656484042" target=_blank title=facebook data-toggle=tooltip data-placement=top><i class="icon icon-facebook"></i></a></li><li><a href=https://github.com/kaka-lin target=_blank title=github data-toggle=tooltip data-placement=top><i class="icon icon-github"></i></a></li><li><a href=https://www.linkedin.com/in/%E5%AE%B6%E8%B1%AA-%E6%9E%97-014a02116/ target=_blank title=linkedin data-toggle=tooltip data-placement=top><i class="icon icon-linkedin"></i></a></li></ul><div class=copyright>Copyright
&copy;2020 -
2022<div class=publishby>Theme by <a href=https://github.com/xiaoheiAh target=_blank>xiaoheiAh </a>base on<a href=https://github.com/xiaoheiAh/hugo-theme-pure target=_blank> pure</a>.</div></div></footer><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.2/MathJax.js?config=TeX-MML-AM_SVG"></script>
<script type=text/x-mathjax-config>
    MathJax.Hub.Config({
            showMathMenu: false, //disables context menu
            tex2jax: {
            inlineMath: [ ['$','$'], ['\\(','\\)'] ]
           }
    });
</script><script src=https://cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js></script>
<script>window.jQuery||document.write('<script src="js/jquery.min.js"><\/script>')</script><script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/python.min.js defer></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/javascript.min.js defer></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/go.min.js defer></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/c.min.js defer></script>
<script type=text/javascript src=//cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/languages/cpp.min.js defer></script><script>hljs.configure({tabReplace:"    ",classPrefix:""}),hljs.initHighlightingOnLoad()</script>
<script src=https://kaka-lin.github.io/my-blog/js/application.min.e4989ab4dc212027af8773861b05b6bc333a1217f6b0a1b3377a3a3dbd454483.js></script>
<script src=https://kaka-lin.github.io/my-blog/js/plugin.min.738a460bf4317fac61717f1bca393e53d00973db9754d9f0a81c7312d5874840.js></script>
<script>(function(e){var t={TRANSLATION:{POSTS:"Posts",PAGES:"Pages",CATEGORIES:"Categories",TAGS:"Tags",UNTITLED:"(Untitled)"},ROOT_URL:"https://kaka-lin.github.io/my-blog",CONTENT_URL:"https://kaka-lin.github.io/my-blog/searchindex.json "};e.INSIGHT_CONFIG=t})(window)</script><script type=text/javascript src=https://kaka-lin.github.io/my-blog/js/insight.min.716b0c6a00b68ccc31a2b65345f3412f4246ffa94a90f8e25d525528b4504f9937880692bbe619023233caba5d0a17ebe23d7cfb57cd3a88f23ea337ad5e4d00.js defer></script>
<script src=https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.4.2/tocbot.min.js></script>
<script>tocbot.init({tocSelector:".js-toc",contentSelector:".js-toc-content",headingSelector:"h1, h2, h3",hasInnerContainers:!0})</script><script>var disqus_config=function(){this.page.url="https://kaka-lin.github.io/my-blog/2020/06/sqlite-basics/",this.page.identifier="kaka-blog"};(function(){var e=document,t=e.createElement("script");t.src="//kaka-blog.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script></body></html>